package main

import "fmt"

func main() {
	// stone '#'
	// obstacle '*'
	// empty '.'
	box := [][]byte{{'#', '.', '#'}}
	fmt.Println(rotateTheBox(box))
	fmt.Println("-----------------------------")
	box = [][]byte{
		{'#', '.', '*', '.'},
		{'#', '#', '*', '.'}}
	fmt.Println(rotateTheBox(box))
	fmt.Println("-----------------------------")
	box = [][]byte{
		{'#', '#', '*', '.', '*', '.'},
		{'#', '#', '#', '*', '.', '.'},
		{'#', '#', '#', '.', '#', '.'}}
	fmt.Println(rotateTheBox(box))
	// fmt.Println("-----------------------------")
	// box = [][]byte{{'.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '*', '.', '.', '.', '#', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '.', '*', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '.', '#', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '.', '#', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '#', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '*', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '*', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '.', '*', '#', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '#', '.', '*', '.', '.', '#', '*', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '#', '*', '.', '*', '.', '.', '.', '.', '.', '.', '*', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '*', '.', '.', '#', '#', '.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '*', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '*', '*', '#', '.', '*', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '*', '#', '*', '.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '#', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '#', '.', '#', '#', '#', '.', '#', '.', '.', '.', '.', '.', '.', '*', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '*', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '*', '*', '.', '#', '.', '#', '#', '#', '.', '*', '.', '.', '.', '.', '.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '*', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '#', '.', '*', '#', '*', '.', '#', '.', '.', '.', '.', '.', '#', '*', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '.', '.', '.', '.', '.', '#', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '#', '.', '#', '#', '#', '.', '#', '.', '.', '.', '*', '.', '#', '*', '.', '#', '.', '.', '.', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '*', '#', '.', '.', '.', '.', '.', '#', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '#', '#', '.', '#', '#', '#', '#', '#', '.', '*', '.', '.', '.', '#', '.', '*', '*', '.', '*', '.', '.', '.', '.', '#', '*', '.', '.', '.', '#', '#', '.', '.', '#', '#', '.', '.', '.', '.', '.', '*', '.', '.', '.'}, {'.', '*', '.', '.', '.', '.', '.', '#', '#', '.', '#', '*', '#', '#', '#', '.', '#', '.', '.', '.', '*', '.', '#', '*', '.', '#', '.', '.', '.', '.', '#', '*', '.', '.', '.', '#', '*', '.', '.', '*', '#', '.', '.', '.', '.', '.', '*', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '#', '*', '#', '#', '#', '.', '*', '.', '.', '.', '*', '.', '*', '#', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '.', '#', '#', '.', '.', '#', '#', '.', '.', '.', '.', '.', '#', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '*', '*', '*', '*', '#', '.', '*', '.', '.', '.', '#', '.', '#', '#', '.', '*', '.', '.', '.', '.', '*', '#', '.', '.', '.', '*', '#', '*', '.', '*', '*', '.', '.', '.', '.', '.', '#', '.', '.', '.'}, {'.', '#', '.', '.', '.', '.', '.', '#', '#', '.', '#', '#', '*', '#', '#', '.', '#', '.', '.', '.', '#', '.', '#', '*', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '.', '*', '#', '#', '.', '*', '*', '.', '.', '.', '.', '.', '#', '.', '#', '.'}, {'.', '#', '.', '.', '.', '#', '.', '*', '#', '.', '#', '*', '*', '*', '#', '.', '#', '.', '.', '.', '*', '.', '#', '*', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '.', '*', '*', '#', '.', '#', '#', '.', '.', '.', '.', '.', '#', '#', '#', '.'}, {'.', '#', '.', '.', '.', '#', '.', '#', '#', '.', '#', '*', '#', '#', '*', '.', '#', '.', '.', '.', '*', '.', '*', '*', '.', '*', '.', '.', '.', '.', '#', '#', '.', '.', '#', '#', '#', '*', '.', '*', '*', '.', '.', '.', '.', '.', '#', '*', '#', '.'}, {'.', '*', '.', '.', '.', '*', '.', '#', '#', '.', '*', '#', '*', '#', '*', '.', '*', '.', '.', '.', '*', '.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '#', '.', '.', '#', '#', '*', '#', '.', '#', '#', '.', '.', '.', '.', '.', '*', '#', '*', '.'}, {'.', '*', '.', '.', '#', '*', '.', '#', '#', '.', '*', '*', '#', '*', '#', '.', '*', '.', '.', '.', '*', '.', '*', '#', '.', '*', '.', '.', '.', '.', '#', '*', '.', '.', '#', '#', '*', '#', '.', '*', '*', '.', '.', '.', '.', '.', '#', '*', '*', '.'}, {'.', '*', '.', '#', '*', '*', '.', '*', '*', '.', '#', '#', '*', '#', '#', '.', '#', '.', '.', '.', '#', '.', '#', '*', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '*', '#', '#', '*', '.', '#', '#', '.', '.', '.', '.', '.', '*', '#', '#', '.'}, {'.', '#', '.', '#', '*', '*', '.', '#', '*', '.', '#', '#', '#', '#', '#', '.', '*', '.', '.', '.', '#', '.', '*', '#', '.', '#', '.', '.', '.', '.', '#', '*', '.', '.', '#', '#', '#', '#', '.', '#', '#', '#', '.', '.', '.', '.', '#', '*', '*', '.'}, {'.', '#', '.', '*', '#', '#', '.', '*', '#', '.', '#', '#', '#', '#', '#', '.', '#', '.', '.', '.', '#', '.', '*', '*', '.', '*', '.', '.', '.', '.', '#', '*', '.', '.', '#', '*', '#', '#', '.', '#', '#', '*', '.', '.', '.', '.', '#', '#', '#', '.'}, {'.', '#', '.', '*', '*', '*', '.', '*', '#', '.', '#', '#', '#', '#', '*', '.', '*', '.', '.', '.', '#', '.', '#', '*', '.', '#', '.', '.', '.', '.', '#', '#', '.', '.', '#', '#', '*', '#', '.', '*', '*', '*', '.', '.', '.', '.', '*', '*', '*', '.'}, {'.', '*', '.', '*', '*', '*', '.', '#', '#', '.', '#', '*', '#', '#', '#', '.', '*', '.', '.', '#', '*', '#', '*', '*', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '*', '*', '*', '*', '.', '*', '*', '*', '.', '.', '.', '.', '#', '#', '*', '.'}, {'.', '*', '.', '*', '#', '#', '.', '#', '*', '.', '#', '*', '#', '*', '#', '#', '#', '.', '.', '*', '*', '#', '#', '*', '.', '#', '.', '.', '.', '.', '#', '*', '.', '.', '*', '#', '*', '#', '.', '*', '#', '*', '.', '.', '.', '.', '*', '*', '#', '.'}, {'.', '*', '.', '#', '*', '#', '.', '#', '#', '*', '#', '#', '#', '#', '*', '*', '#', '.', '*', '#', '#', '#', '#', '#', '.', '#', '.', '.', '.', '.', '*', '#', '.', '.', '#', '*', '*', '*', '.', '#', '*', '*', '.', '.', '.', '.', '*', '*', '#', '.'}, {'.', '*', '.', '#', '*', '#', '.', '*', '*', '*', '*', '*', '#', '#', '*', '*', '#', '.', '#', '#', '#', '*', '#', '*', '.', '#', '.', '.', '*', '.', '*', '#', '.', '.', '#', '*', '#', '#', '.', '#', '*', '*', '.', '.', '.', '.', '#', '*', '#', '.'}, {'.', '*', '.', '*', '#', '*', '.', '#', '#', '#', '*', '#', '#', '#', '#', '*', '#', '.', '#', '#', '*', '#', '*', '*', '.', '#', '.', '.', '*', '.', '*', '#', '.', '.', '#', '#', '#', '#', '.', '*', '#', '#', '.', '.', '.', '.', '*', '#', '*', '.'}, {'.', '#', '.', '#', '*', '*', '.', '*', '*', '*', '#', '#', '*', '#', '#', '*', '*', '.', '#', '#', '*', '*', '*', '#', '.', '*', '#', '#', '#', '.', '#', '#', '.', '.', '#', '*', '*', '#', '.', '#', '*', '#', '.', '.', '.', '.', '#', '#', '*', '.'}, {'.', '*', '.', '#', '#', '#', '.', '#', '*', '#', '*', '#', '#', '*', '#', '#', '#', '.', '*', '#', '*', '#', '#', '*', '.', '#', '*', '#', '*', '.', '#', '*', '.', '.', '#', '#', '*', '#', '.', '#', '#', '*', '.', '.', '*', '.', '#', '#', '#', '.'}, {'.', '#', '.', '#', '*', '#', '.', '#', '#', '*', '*', '#', '*', '*', '*', '*', '#', '.', '#', '#', '#', '*', '#', '#', '.', '*', '*', '*', '#', '.', '#', '#', '#', '.', '#', '#', '*', '#', '.', '#', '*', '#', '.', '*', '#', '.', '*', '#', '#', '.'}, {'.', '*', '*', '*', '#', '*', '.', '#', '*', '#', '#', '#', '*', '*', '*', '#', '*', '.', '*', '*', '#', '#', '*', '#', '.', '*', '*', '*', '*', '.', '#', '*', '#', '.', '*', '#', '*', '*', '.', '*', '#', '#', '.', '*', '*', '.', '#', '#', '#', '*'}, {'.', '*', '#', '*', '*', '#', '.', '#', '*', '*', '#', '*', '#', '*', '#', '#', '#', '.', '#', '#', '*', '*', '*', '#', '.', '*', '#', '#', '*', '.', '*', '#', '#', '.', '*', '#', '*', '*', '.', '#', '#', '#', '.', '#', '#', '.', '#', '#', '#', '#'}, {'*', '#', '#', '#', '*', '#', '.', '*', '#', '*', '#', '#', '*', '#', '#', '#', '#', '*', '*', '*', '#', '*', '#', '*', '.', '#', '*', '*', '#', '.', '*', '*', '*', '.', '#', '#', '*', '#', '.', '*', '*', '#', '.', '*', '#', '.', '#', '#', '*', '*'}, {'#', '#', '*', '*', '#', '#', '.', '#', '*', '#', '*', '#', '#', '#', '#', '*', '#', '*', '*', '#', '#', '#', '*', '#', '.', '#', '#', '#', '#', '.', '*', '*', '#', '.', '#', '#', '#', '*', '.', '*', '#', '*', '.', '*', '*', '.', '#', '#', '#', '*'}, {'#', '*', '*', '*', '*', '#', '.', '*', '#', '#', '#', '*', '#', '#', '#', '#', '#', '#', '#', '*', '#', '#', '*', '*', '.', '#', '*', '#', '#', '.', '*', '#', '*', '.', '*', '#', '#', '#', '.', '#', '#', '#', '.', '*', '*', '.', '#', '#', '#', '*'}, {'*', '#', '#', '#', '*', '#', '.', '*', '#', '*', '*', '#', '#', '#', '#', '*', '*', '#', '*', '*', '#', '*', '#', '#', '.', '*', '#', '#', '*', '.', '#', '#', '#', '.', '*', '*', '#', '#', '.', '*', '*', '#', '.', '*', '*', '.', '#', '#', '#', '#'}, {'#', '#', '*', '*', '*', '*', '#', '#', '#', '*', '#', '#', '*', '#', '*', '*', '#', '*', '*', '*', '#', '*', '*', '#', '.', '#', '#', '#', '#', '*', '*', '#', '#', '.', '*', '#', '#', '#', '.', '*', '*', '*', '.', '*', '#', '.', '*', '*', '*', '*'}, {'#', '*', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '*', '*', '*', '#', '#', '*', '#', '#', '#', '#', '*', '#', '*', '#', '#', '#', '#', '#', '#', '*', '#', '#', '*', '#', '#', '#', '.', '#', '*', '#', '*', '*', '*', '#', '#', '#', '#', '*'}}
	// fmt.Println(rotateTheBox(box))

}

func rotateTheBox(box [][]byte) [][]byte {
	for i := range box {
		box[i] = moveToRight(box[i])
	}

	m, n := len(box), len(box[0])
	rotatedBox := make([][]byte, n)

	for j := range rotatedBox {
		rotatedBox[j] = make([]byte, m)
	}

	for i := 0; i < m; i++ {
		for j := 0; j < n; j++ {
			rotatedBox[j][m-i-1] = box[i][j]
		}
	}

	return rotatedBox
}

func moveToRight(row []byte) []byte {
	blank := len(row) - 1
	for i := len(row) - 1; i >= 0; i-- {
		if row[i] == '*' {
			blank = i - 1
		} else if row[i] == '#' {
			if i != blank {
				row[blank] = '#'
				row[i] = '.'
			}
			blank--
		}
	}
	return row
}
